<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
  
  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">


</head>
<body id="main">

<div style="background-color:#b6bde0; border-style: solid;">

  <div id="label" style="padding-top: 30px;font-size: 55pt;color: #32244f;">How Happy is The World?</div>  
  <div id="label" style="padding-top: 10px;font-size: 24pt;color: #443269;padding-bottom: 10px;">The constrast of countries happiness are much more concerning than the world think.</div>  
  <hr style="width:1450px;height:4px;border-width:0;text-align: center;color: rgb(107, 96, 112);background-color:rgb(107, 96, 112);">


  <div style=" display: flex;justify-content: center;text-align: center;padding-left: 100px;padding-right: 100px;">
      <div id="globe" style="padding-right: 800px;padding-top: 90px;position: absolute;"></div>
      <div>
        <div id="region" style="padding-top: 40px;padding-left: 600px;color: #355070;">Eastern Asia</div>
        <div id="country_map" style="padding-top: 10px;position: absolute;margin-right: 300px;"></div>
        <div id="country_name" style="padding-top: 340px;font-size: 20pt;padding-left: 600px;color: #586e8b;">Select a country</div>
        <div id="country_detail" style="padding-top: 3px;padding-left: 600px;color: #586e8b;padding-bottom: 30px;">>></div>
      </div>

  </div>

  <div style="background-color: #95a3b663;justify-content: center;text-align: center;">
    <div id="label" style="padding-top: 50px;position:relative;">World Happiness Score 2016-2019</div>
    <div id="periodical_text" style="justify-content: center;text-align: center;padding-top: 30px;align-items:center;">
      Over four years, the world have changed a lot as globalisation is growing very rapidly. 
      Some countries might become more advanced, but some are still
    </div>
    <div id="periodical_text" style="justify-content: center;text-align: center;padding-top: 2px;align-items:center;">
      trying to find peace in the midst of war. These maps showed how happiness scores changed from 2016 to 2019 all over the globe.
    </div>
    <div id="periodical" style="display: flex;justify-content: center;text-align: center;padding-top:50px;padding-bottom: 10px;padding-left: 25px;"></div>
  </div>

  <div style="justify-content: center;text-align: center;">
    <h1 id="label" style="padding-top: 20px; position:relative;padding-right: 750px;">Happiest Countries 2016-2019</h1>
    <div>
      <div id="periodical_text" style="padding-left: 170px;position: absolute;padding-top: 20px;width: 500px;display: unset;text-align: justify;">
        <span>Looking at the leaderboard from 2016 to 2019,</span>
        <span style="color: #182973; font-size:21pt;font-weight: bold;">Finland, </span>
        <span> will be the happiest country over four years. Followed by </span>
        <span  style="color: #374eb3; font-size: 21pt;font-weight: bold;">Norway</span>
        <span> in Europe, and </span>
        <span style="color: #5170fa; font-size: 21pt;font-weight: bold;"> Iceland </span>
        <span>at the third place, slightly above Switzerland.</span>
        
      </div>
      <div id="periodical_text" style="padding-left: 170px;position: absolute;padding-top: 210px;width: 500px;display: unset;text-align: justify;">
        From 2016 to 2019, the countries that stay top 5 are Canada, Finland, Norway, Ireland, and Switzerland. In these four years,
        we could see that Finland has the most changes, while Iceland barely changed. Refering to the average value of the five countries, 
        Canada is the only country that is below average, in contrast to Iceland and Norway, where they never went below average.
      </div>
      <div id="boxplot" style="padding-left: 760px;padding-bottom: 0px;"></div>
    </div>
  </div>


  <h1 id="label" style="padding-top: 0px; position:relative;padding-right: 800px;">Can Money Buy Happiness?</h1>
  <div style=" display: flex;justify-content: center;text-align: center;">
    <div id="scatterplot" style="padding-right: 800px;padding-top: 10px;position: absolute;padding-bottom: 80px;"></div>
    <div style="padding-right: 100px;">
      <div id="periodical_text" style="padding-top: 30px;width: 800px;display: unset;position: absolute;text-align: justify;">
        When it comes to happiness, people often ask the question, "Can money buy happiness"? Does that mean that, if someone is rich,
        the person will be happier than others? Some might agree, as money doesn't buy happiness but choices. However, looking at the statistic of
        GDP per capita of all countries compared to their happiness scores, it says otherwise. Turns out, money do buy happiness, as the relationship is linear.
      </div>
      <div id="periodical_text" style="font-weight: bold;font-size: 90pt;color: #305ba1;padding-top: 170px;padding-left:700px;position: absolute;z-index: 3;">
        ‚ùù
      </div>
      <div id="periodical_text" style="padding-top: 240px;padding-left: 50px;font-weight: bold;font-size: 22pt;color: #305ba1;width: 750px;display: unset;position: absolute;">
        People say money can't buy happiness, but it can make awfully comfortable while you're being miserable.
      </div>
      <div id="periodical_text" style="padding-top: 370px; padding-left: 1108px;font-weight: bold;font-size: 22pt;color: #1a3e75; padding-bottom: 140px;">
        - Clare Boothe Luce -
      </div>
    </div>
  </div>

</div>


<script type="text/javascript">
  var spec1 = "js/boxplot.json";
  vegaEmbed('#boxplot', spec1).then(function(result) {
    console.log(result)
  }).catch(console.error);

  var spec2 = "js/periodical.json";
  vegaEmbed('#periodical', spec2).then(function(result) {
    console.log(result)
  }).catch(console.error);

  var spec3 = "js/scatterplot.json";
  vegaEmbed('#scatterplot', spec3).then(function(result) {
    console.log(result)
  }).catch(console.error);

  var spec4 = "js/globe.json";
  var spec5 = "js/Regions/Eastern_Asia.json";
  vegaEmbed('#globe', spec4).then(function(result) {
    result.view.addEventListener('click', function(event, item) {
      var z = document.getElementById("region");
        
      var name = item.datum.properties.name;
      var western_europe =["Belgium","France","Ireland","Luxembourg","Monaco","Netherlands","United Kingdom"];
      var australia =["Australia","New Zealand"];
      var southern_asia =["Bangladesh","Bhutan","India","Pakistan","Nepal","Sri Lanka"];
      var southeastern_asia =["Myanmar","Malaysia","Indonesia","Singapore","Thailand","Vietnam","Laos","Cambodia","Philippines"];
      var latinamerica =["Mexico","Guatemala","Honduras","Peru","Nicaragua","Brazil","Venezuela","Chile","Argentina","Bolivia","Paraguay","Colombia","Ecuador","Jamaica"];
      var me_na =["Morocco","Algeria","Libya","Egypt","Saudi Arabia","Yemen","Israel","Jordan","Iraq","Syria","Turkey","Iran"];
      var north_america =["Canada"];
      var sub_saharan =["Belgium","France","Ireland","Luxembourg","Monaco","Netherlads","United Kingdom"];
      var eastern_asia =["Mongolia","China","Japan","South Korea","Taiwan"];
      if (western_europe.includes(name)) {spec5 = "js/Regions/Western_Europe.json"; z.textContent = "Western Europe";}
      else if (australia.includes(name)) {spec5 = "js/Regions/Australia.json"; z.textContent = "Australia and New Zealand";}
      else if (southern_asia.includes(name)) {spec5 = "js/Regions/Southern_Asia.json"; z.textContent = "Southern Asia";}
      else if (southeastern_asia.includes(name)) {spec5 = "js/Regions/Southeastern_Asia.json"; z.textContent = "Southeastern Asia";}
      else if (latinamerica.includes(name)) {spec5 = "js/Regions/LatinAmericaCarribean.json"; z.textContent = "Latin America Carribean";}
      else if (me_na.includes(name)) {spec5 = "js/Regions/MiddleEast_NorthernAfrica.json"; z.textContent = "Middle East and Northern Africa";}
      else if (north_america.includes(name)) {spec5 = "js/Regions/North_America.json"; z.textContent = "North America";}
      else if (sub_saharan.includes(name)) {spec5 = "js/Regions/Sub-Saharan_Africa.json"; z.textContent = "Sub-Saharan Africa";}
      else if (eastern_asia.includes(name)) {spec5 = "js/Regions/Eastern_Asia.json"; z.textContent = "Eastern Asia";}
      else {spec5 = "js/Regions/Eastern_Asia.json";z.textContent = "Central and Eastern Europe";}
      console.log();
      vegaEmbed('#country_map', spec5).then(function(result) {
        result.view.addEventListener('click', function(event, item) {
          console.log(item.datum)
          var x = document.getElementById("country_name");
          x.textContent = "#Rank "+item.datum.Happiness_Rank+" :   "+item.datum.properties.NAME;
          var y = document.getElementById("country_detail");
          y.textContent = "Happiness Score: "+item.datum.Happiness_Score;
        });
      }).catch(console.error);
    });
  }).catch(console.error);

vegaEmbed('#country_map', spec5).then(function(result) {
      result.view.addEventListener('click', function(event, item) {
        console.log(item.datum)
        var x = document.getElementById("country_name");
        x.textContent = "#Rank "+item.datum.Happiness_Rank+" :   "+item.datum.properties.NAME;
        var y = document.getElementById("country_detail");
        y.textContent = "Happiness Score: "+item.datum.Happiness_Score;
      });
    }).catch(console.error);



</script>

</body>
</html>
